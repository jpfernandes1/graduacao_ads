<!doctype html>
<html lang="pt-BR">
<head>
	<meta charset="utf-8">
	<title>Requisição XMLHttpRequest</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
	<h1>Imagens Aleatórios de Cachorros</h1>
	<p>A partir do click no botão abaixo uma nova imagem aleatória de cachorros será carregada utilizando requisições assíncronas com XMLHttpRequest</p>

	<img id="img_dog" src="" alt="Aguardando a imagem ser carregada" />
	<br/>
	<button class="btn btn-primary m-2" onclick="carregarImagens()">Carregar Imagens</button>
</body>
	<script type="text/javascript">
	
		function carregarImagens(){
		
			var url = "https://dog.ceo/api/breeds/image/random"
			fetch(url, {
				method: 'get'
			})
			.then(function(response) {
				response.json().then(function(data){
					console.log('Resultado da Requisição: ' + data.message);

					var imgDog = document.getElementById("img_dog");
					imgDog.src = data.message;
				});
			})
			.catch(function(err) {
				console.error('O seguinte erro ocorreu durante a requisição: ' + err);
			});

		}
	</script>
</html>